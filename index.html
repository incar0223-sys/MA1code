<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MA1ìœ„ì´‰ì ‘ìˆ˜ ë¦¬ìŠ¤íŠ¸ ì¡°íšŒ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Malgun Gothic', 'ë§‘ì€ ê³ ë”•', Arial, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 15px;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2);
            padding: 30px;
        }
        
        h1 {
            color: #667eea;
            margin-bottom: 10px;
            text-align: center;
            font-size: 2em;
        }
        
        .subtitle {
            text-align: center;
            color: #666;
            margin-bottom: 15px;
        }
        
        .notice {
            text-align: left;
            color: #333;
            background: #fff3cd;
            border: 1px solid #ffc107;
            border-radius: 8px;
            padding: 12px 20px;
            margin-bottom: 30px;
            font-size: 12px;
            line-height: 1.3;
        }
        
        .notice strong {
            display: block;
            text-align: left;
            color: #dc3545;
            margin-bottom: 6px;
            font-size: 12px;
        }
        
        .notice ol {
            margin: 6px 0;
            padding-left: 18px;
        }
        
        .notice li {
            margin-bottom: 4px;
        }
        
        /* ëª¨ë°”ì¼ ë°˜ì‘í˜• ìŠ¤íƒ€ì¼ */
        @media (max-width: 768px) {
            body {
                padding: 10px;
            }
            
            .container {
                padding: 15px;
                border-radius: 10px;
            }
            
            h1 {
                font-size: 1.5em;
                margin-bottom: 8px;
            }
            
            .subtitle {
                font-size: 0.9em;
                margin-bottom: 10px;
            }
            
            .notice {
                padding: 10px 15px;
                font-size: 11px;
                margin-bottom: 20px;
            }
            
            .notice strong {
                font-size: 11px;
            }
            
            .search-box {
                flex-direction: column;
                gap: 10px;
                align-items: stretch;
            }
            
            .search-box label {
                min-width: auto;
                text-align: left;
            }
            
            .search-box input {
                font-size: 16px; /* ëª¨ë°”ì¼ì—ì„œ í™•ëŒ€ ë°©ì§€ */
                padding: 10px;
            }
            
            .search-box button {
                width: 100%;
                padding: 12px;
            }
            
            .result-info {
                font-size: 13px;
            }
            
            #tableContainer {
                overflow-x: auto;
                -webkit-overflow-scrolling: touch;
                margin: 0 -15px;
                padding: 0 15px;
            }
            
            table {
                font-size: 12px;
                min-width: 700px;
            }
            
            th, td {
                padding: 8px 6px;
                font-size: 11px;
            }
            
            th {
                font-size: 11px;
            }
        }
        
        @media (max-width: 480px) {
            h1 {
                font-size: 1.3em;
            }
            
            .notice {
                font-size: 10px;
                padding: 8px 12px;
            }
            
            .notice strong {
                font-size: 10px;
            }
            
            #tableContainer {
                margin: 0 -15px;
                padding: 0 15px;
            }
            
            table {
                min-width: 650px;
            }
            
            th, td {
                padding: 6px 4px;
                font-size: 10px;
            }
            
            .search-box input {
                font-size: 16px; /* iOSì—ì„œ í™•ëŒ€ ë°©ì§€ */
            }
        }
        
        .search-box {
            margin-bottom: 30px;
            display: flex;
            gap: 10px;
            align-items: center;
        }
        
        .search-box label {
            font-weight: bold;
            color: #333;
            min-width: 100px;
        }
        
        .search-box input {
            flex: 1;
            padding: 12px 15px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 16px;
            transition: border-color 0.3s;
        }
        
        .search-box input:focus {
            outline: none;
            border-color: #667eea;
        }
        
        .search-box button {
            padding: 12px 25px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            font-weight: bold;
            transition: transform 0.2s;
        }
        
        .search-box button:hover {
            transform: translateY(-2px);
        }
        
        .refresh-btn {
            background: #28a745 !important;
        }
        
        .refresh-btn:hover {
            background: #218838 !important;
        }
        
        .result-info {
            margin-bottom: 15px;
            color: #666;
            font-size: 14px;
        }
        
        .result-info strong {
            color: #667eea;
        }
        
        .loading {
            text-align: center;
            padding: 40px;
            color: #667eea;
            font-size: 18px;
        }
        
        .error {
            text-align: center;
            padding: 40px;
            color: #dc3545;
            font-size: 18px;
            background: #f8d7da;
            border-radius: 8px;
            margin: 20px 0;
        }
        
        #tableContainer {
            overflow-x: auto;
            -webkit-overflow-scrolling: touch;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
            background: white;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            border-radius: 8px;
            overflow: hidden;
            min-width: 600px; /* ëª¨ë°”ì¼ì—ì„œ ìµœì†Œ ë„ˆë¹„ ë³´ì¥ */
        }
        
        thead {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }
        
        th {
            padding: 15px;
            text-align: left;
            font-weight: bold;
            border-bottom: 2px solid rgba(255, 255, 255, 0.2);
            white-space: nowrap;
        }
        
        td {
            padding: 12px 15px;
            border-bottom: 1px solid #eee;
        }
        
        tbody tr:hover {
            background-color: #f5f5f5;
            transition: background-color 0.2s;
        }
        
        tbody tr:last-child td {
            border-bottom: none;
        }
        
        .no-results {
            text-align: center;
            padding: 40px;
            color: #999;
            font-size: 18px;
        }
        
        .initial-message {
            text-align: center;
            padding: 60px 20px;
            color: #999;
            font-size: 18px;
            background: #f8f9fa;
            border-radius: 8px;
            margin-top: 20px;
        }
        
        .initial-message strong {
            color: #667eea;
            display: block;
            margin-bottom: 10px;
            font-size: 20px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>MA1ìœ„ì´‰ì ‘ìˆ˜ ë¦¬ìŠ¤íŠ¸ ì¡°íšŒ</h1>
        <p class="subtitle">ìƒëª…ë³´í—˜ ìœ„ì´‰ ì ‘ìˆ˜ë¦¬ìŠ¤íŠ¸ ì¡°íšŒê°€ëŠ¥(ë™ì–‘ì œì™¸,ì´ë¬´ì½”ë“œ ì ‘ìˆ˜ ì œì™¸)  </p>
        
        <div class="notice">
            <strong>ì£¼ì˜ì‚¬í•­ í•„ë… âŒFAë°°í¬ ê¸ˆì§€âŒ*</strong>
            <ol>
<li>ìœ„ì´‰ì ‘ìˆ˜ ì¡°íšŒ ë¦¬ìŠ¤íŠ¸ëŠ” ì„¼í„°ì›ê³¼ íŒŒíŠ¸ë„ˆ ì´ë¬´ì™€ì˜ ì›í™œí•œ ì—…ë¬´ ì§„í–‰ì„ ìœ„í•œ ì°¸ê³  ìë£Œì´ë©°, ì ‘ì†ëŸ‰ ì¦ê°€ ì‹œ ì´ìš©ì´ ì œí•œë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</li>
<li>ë³¸ì‚¬ ì˜ì—…ì§€ì›íŒ€ì—ì„œ ì‹ ê·œFA ì—…ë¬´ ì§€ì› ì°¨ì›ìœ¼ë¡œ ì ‘ìˆ˜í•œ ê±´ì€ ë³¸ ë¦¬ìŠ¤íŠ¸ì—ì„œ ì¡°íšŒë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.</li>
<li>ë³´í—˜ì‚¬ì— ì ‘ìˆ˜ëœ ìœ„ì´‰ ë‚´ì—­ë§Œ ì¡°íšŒë©ë‹ˆë‹¤. (ì¶”ê°€ ì ‘ìˆ˜ìš© ì•„ë‹˜, ì ‘ìˆ˜ ìš”ì²­ ë¶ˆê°€âŒ) FA ë§ˆê° ì¼ì •ì— ë§ì¶° ì„œë¥˜ë¥¼ ë°œì†¡í•´ ì£¼ì„¸ìš”.</li>
<li>ì ‘ìˆ˜ ì°¨ìˆ˜ í™•ì¸ í›„ ìœ„ì´‰ì¼ì€ IIMS ì „ì‚°ì—ì„œ ì§ì ‘ í™•ì¸ ë°”ëë‹ˆë‹¤. (ìœ„ì´‰ ì¼ì • ë¬¸ì˜ ìì œ) í˜„ì¬ ê¸°ì¤€ë¶€í„° ìµœëŒ€ 3ê°œì›” ì „ì˜ ë¦¬ìŠ¤íŠ¸ê°€ ì¡°íšŒ ê°€ëŠ¥í•©ë‹ˆë‹¤.</li>
<li>ë§¤ì¼ ì˜¤ì „ 9ì‹œ~10ì‹œ ì‚¬ì´ì— ì—…ë°ì´íŠ¸ë  ì˜ˆì •ì…ë‹ˆë‹¤. 10ì‹œ ì´ì „ì— ì¡°íšŒ ì‹œ ë³€ë™ ì‚¬í•­ì´ ìˆì„ ìˆ˜ ìˆìœ¼ë‹ˆ ì°¸ê³  ë°”ëë‹ˆë‹¤.</li>
            </ol>
        </div>
        
        <div class="search-box">
            <label for="searchInput">ì‚¬ë²ˆ ê²€ìƒ‰:</label>
            <input 
                type="text" 
                id="searchInput" 
                placeholder="ì‚¬ë²ˆì„ ì •í™•íˆ ì…ë ¥í•˜ì„¸ìš” (7ìë¦¬) ì…ë ¥í›„ ENTER í‚¤ë¥¼ ëˆŒëŸ¬ì£¼ì„¸ìš”"
                onkeypress="if(event.key === 'Enter') { event.preventDefault(); filterTable(); }"
            />
            <button onclick="filterTable()">ê²€ìƒ‰</button>
            <button onclick="refreshData()" style="padding: 12px 20px; background: #28a745; color: white; border: none; border-radius: 8px; cursor: pointer; font-size: 16px; font-weight: bold; transition: transform 0.2s;" onmouseover="this.style.transform='translateY(-2px)'" onmouseout="this.style.transform='translateY(0)'">ìƒˆë¡œê³ ì¹¨</button>
        </div>
        
        <div class="result-info">
            ê²€ìƒ‰ ê²°ê³¼: <strong id="resultCount">0</strong>ê±´
        </div>
        
        <div id="loadingMessage" class="loading" style="display: none;">
            ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...
        </div>
        
        <div id="errorMessage" class="error" style="display: none;"></div>
        
        <div id="initialMessage" class="initial-message" style="display: block;">
            <strong>ğŸ” ì‚¬ë²ˆì„ ì…ë ¥í•˜ì—¬ ê²€ìƒ‰í•˜ì„¸ìš”</strong>
            ìœ„ ì…ë ¥ì°½ì— ì‚¬ë²ˆì„ ì…ë ¥í•˜ë©´ í•´ë‹¹ ì •ë³´ê°€ í‘œì‹œë©ë‹ˆë‹¤.
            ì´ë¬´ì½”ë“œ ì ‘ìˆ˜ëŠ” ì¡°íšŒë˜ì§€ ì•ŠìŠµë‹ˆë‹¤. 
        </div>
        
        <div id="tableContainer" style="display: none !important;">
            <table id="dataTable">
                <thead>
                    <tr id="tableHeader"></tr>
                </thead>
                <tbody id="tableBody"></tbody>
            </table>
        </div>
    </div>

    <script>
        let csvData = '';
        let allData = { headers: [], data: [] };
        let ì‚¬ë²ˆIndex = -1; // ì‚¬ë²ˆ ì»¬ëŸ¼ ì¸ë±ìŠ¤ë¥¼ ë¯¸ë¦¬ ì €ì¥

        // CSV ë°ì´í„°ë¥¼ íŒŒì‹±í•˜ì—¬ ë°°ì—´ë¡œ ë³€í™˜ (ìµœì í™” ë²„ì „)
        function parseCSV(csv) {
            const startTime = performance.now();
            const lines = csv.trim().split('\n');
            if (lines.length === 0) {
                return { headers: [], data: [] };
            }
            
            // í—¤ë” íŒŒì‹± ìµœì í™”
            const headerLine = lines[0];
            const headers = headerLine.split(',').map(h => h.trim());
            const data = [];
            const dataLength = lines.length;
            const headerLength = headers.length;
            
            // ì‚¬ë²ˆ ì»¬ëŸ¼ ì¸ë±ìŠ¤ ì°¾ê¸° (í•œ ë²ˆë§Œ)
            ì‚¬ë²ˆIndex = headers.findIndex(h => h === 'ì‚¬ë²ˆ');
            if (ì‚¬ë²ˆIndex === -1) {
                ì‚¬ë²ˆIndex = 4; // ê¸°ë³¸ê°’ (5ë²ˆì§¸ ì»¬ëŸ¼)
            }
            
            // CSV íŒŒì‹± ìµœì í™”: ë‹¨ìˆœ split ì‚¬ìš© (ë”°ì˜´í‘œ ì—†ëŠ” ê²½ìš°)
            for (let i = 1; i < dataLength; i++) {
                const line = lines[i];
                if (!line || line.trim() === '') continue;
                
                // ë¹ ë¥¸ íŒŒì‹±: ì‰¼í‘œë¡œ ë¶„ë¦¬
                const values = line.split(',');
                const valuesLength = values.length;
                
                // ë¹ˆ ì¤„ ì²˜ë¦¬
                if (valuesLength === 0 || (valuesLength === 1 && values[0].trim() === '')) continue;
                
                // ê°ì²´ ìƒì„± ìµœì í™” (trim ìµœì†Œí™”)
                const row = {};
                for (let j = 0; j < headerLength; j++) {
                    row[headers[j]] = (values[j] || '').trim();
                }
                data.push(row);
            }
            
            const endTime = performance.now();
            console.log(`CSV íŒŒì‹± ì™„ë£Œ: ${data.length}í–‰, ì†Œìš”ì‹œê°„: ${(endTime - startTime).toFixed(2)}ms`);
            
            return { headers, data };
        }

        // í…Œì´ë¸” ë Œë”ë§ (ìµœì í™” ë²„ì „)
        function renderTable(data) {
            const { headers, data: rows } = data;
            const tableHeader = document.getElementById('tableHeader');
            const tableBody = document.getElementById('tableBody');
            const headerLength = headers.length;
            
            // í—¤ë” ìƒì„± (innerHTML ì‚¬ìš©ìœ¼ë¡œ ìµœì í™”)
            let headerHTML = '';
            for (let i = 0; i < headerLength; i++) {
                headerHTML += `<th>${headers[i]}</th>`;
            }
            tableHeader.innerHTML = headerHTML;
            
            // ë°ì´í„° í–‰ ìƒì„± (DocumentFragment ì‚¬ìš©ìœ¼ë¡œ ìµœì í™”)
            tableBody.innerHTML = '';
            if (rows.length === 0) {
                const tr = document.createElement('tr');
                const td = document.createElement('td');
                td.colSpan = headerLength;
                td.className = 'no-results';
                td.textContent = 'ê²€ìƒ‰ ê²°ê³¼ê°€ ì—†ìŠµë‹ˆë‹¤.';
                tr.appendChild(td);
                tableBody.appendChild(tr);
            } else {
                const fragment = document.createDocumentFragment();
                const rowsLength = rows.length;
                
                for (let i = 0; i < rowsLength; i++) {
                    const row = rows[i];
                    const tr = document.createElement('tr');
                    let rowHTML = '';
                    for (let j = 0; j < headerLength; j++) {
                        rowHTML += `<td>${row[headers[j]] || ''}</td>`;
                    }
                    tr.innerHTML = rowHTML;
                    fragment.appendChild(tr);
                }
                tableBody.appendChild(fragment);
            }
            
            updateResultCount(rows.length);
        }

        // ê²°ê³¼ ê°œìˆ˜ ì—…ë°ì´íŠ¸
        function updateResultCount(count) {
            document.getElementById('resultCount').textContent = count;
        }

        // í…Œì´ë¸” í•„í„°ë§
        function filterTable() {
            if (!allData.headers.length) {
                return;
            }
            
            const searchValue = document.getElementById('searchInput').value.trim().toLowerCase();
            const tableContainer = document.getElementById('tableContainer');
            const initialMessage = document.getElementById('initialMessage');
            
            // ê²€ìƒ‰ê°’ì´ ì—†ìœ¼ë©´ í…Œì´ë¸” ìˆ¨ê¸°ê³  ì´ˆê¸° ë©”ì‹œì§€ í‘œì‹œ
            if (!searchValue) {
                tableContainer.style.display = 'none';
                initialMessage.style.display = 'block';
                updateResultCount(0);
                // í…Œì´ë¸” í—¤ë”ì™€ ë³¸ë¬¸ ë¹„ìš°ê¸°
                document.getElementById('tableHeader').innerHTML = '';
                document.getElementById('tableBody').innerHTML = '';
                return;
            }
            
            // ê²€ìƒ‰ê°’ì´ ìˆìœ¼ë©´ ì´ˆê¸° ë©”ì‹œì§€ ìˆ¨ê¸°ê³  í…Œì´ë¸” í‘œì‹œ
            initialMessage.style.display = 'none';
            
            // ì‚¬ë²ˆ ì»¬ëŸ¼ì—ì„œ ê²€ìƒ‰ (ì¸ë±ìŠ¤ ë¯¸ë¦¬ ì €ì¥ëœ ê°’ ì‚¬ìš©)
            // ì •í™•íˆ ì¼ì¹˜í•˜ëŠ” ì‚¬ë²ˆë§Œ ê²€ìƒ‰ (ë¶€ë¶„ ì¼ì¹˜ ì œì™¸)
            const ì‚¬ë²ˆHeader = allData.headers[ì‚¬ë²ˆIndex];
            const filteredRows = allData.data.filter(row => {
                const ì‚¬ë²ˆ = String(row[ì‚¬ë²ˆHeader] || '').trim().toLowerCase();
                // ì™„ì „ ì¼ì¹˜ë§Œ í—ˆìš© (ëŒ€ì†Œë¬¸ì êµ¬ë¶„ ì—†ìŒ)
                return ì‚¬ë²ˆ === searchValue;
            });
            
            // ê²€ìƒ‰ ê²°ê³¼ê°€ ìˆìœ¼ë©´ í…Œì´ë¸” í‘œì‹œ
            tableContainer.style.display = 'block';
            renderTable({ headers: allData.headers, data: filteredRows });
        }

        // CSV íŒŒì¼ ë¡œë“œ
        async function loadCSV() {
            const loadingMessage = document.getElementById('loadingMessage');
            const errorMessage = document.getElementById('errorMessage');
            const tableContainer = document.getElementById('tableContainer');
            const initialMessage = document.getElementById('initialMessage');
            
            loadingMessage.style.display = 'block';
            errorMessage.style.display = 'none';
            tableContainer.style.display = 'none';
            initialMessage.style.display = 'none';
            
            try {
                const startTime = performance.now();
                // ìºì‹œ ì™„ì „ ë¬´ì‹œ: íƒ€ì„ìŠ¤íƒ¬í”„ ì¶”ê°€
                const timestamp = new Date().getTime();
                const response = await fetch(`MAìœ„ì´‰ì ‘ìˆ˜ë¦¬ìŠ¤íŠ¸_í†µí•©.csv?v=${timestamp}`, {
                    cache: 'no-store', // ìºì‹œ ì €ì¥ ì•ˆ í•¨
                    headers: {
                        'Cache-Control': 'no-cache, no-store, must-revalidate',
                        'Pragma': 'no-cache',
                        'Expires': '0'
                    }
                });
                
                if (!response.ok) {
                    throw new Error('CSV íŒŒì¼ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤. MAìœ„ì´‰ì ‘ìˆ˜ë¦¬ìŠ¤íŠ¸_í†µí•©.csv íŒŒì¼ì´ ê°™ì€ í´ë”ì— ìˆëŠ”ì§€ í™•ì¸í•´ì£¼ì„¸ìš”.');
                }
                
                csvData = await response.text();
                const loadTime = performance.now();
                console.log(`CSV íŒŒì¼ ë¡œë“œ ì™„ë£Œ: ${(loadTime - startTime).toFixed(2)}ms`);
                
                allData = parseCSV(csvData);
                
                if (allData.headers.length === 0) {
                    throw new Error('CSV íŒŒì¼ì´ ë¹„ì–´ìˆê±°ë‚˜ í˜•ì‹ì´ ì˜¬ë°”ë¥´ì§€ ì•ŠìŠµë‹ˆë‹¤.');
                }
                
                loadingMessage.style.display = 'none';
                // ì´ˆê¸° ë¡œë“œ ì‹œì—ëŠ” í…Œì´ë¸”ì„ ìˆ¨ê¸°ê³  ì´ˆê¸° ë©”ì‹œì§€ë§Œ í‘œì‹œ
                tableContainer.style.display = 'none';
                initialMessage.style.display = 'block';
                updateResultCount(0);
                
                // í…Œì´ë¸” í—¤ë”ì™€ ë³¸ë¬¸ ëª¨ë‘ ë¹„ìš°ê¸°
                document.getElementById('tableHeader').innerHTML = '';
                document.getElementById('tableBody').innerHTML = '';
                
                // ê²€ìƒ‰ ì…ë ¥ì°½ë„ ë¹„ìš°ê¸°
                document.getElementById('searchInput').value = '';
            } catch (error) {
                loadingMessage.style.display = 'none';
                errorMessage.style.display = 'block';
                errorMessage.textContent = 'ì˜¤ë¥˜: ' + error.message;
                console.error('CSV ë¡œë“œ ì˜¤ë¥˜:', error);
            }
        }

        // ë°ì´í„° ìƒˆë¡œê³ ì¹¨ í•¨ìˆ˜
        function refreshData() {
            const loadingMessage = document.getElementById('loadingMessage');
            loadingMessage.style.display = 'block';
            loadingMessage.textContent = 'ë°ì´í„°ë¥¼ ìƒˆë¡œ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...';
            
            // ê¸°ì¡´ ë°ì´í„° ì´ˆê¸°í™”
            csvData = '';
            allData = { headers: [], data: [] };
            document.getElementById('searchInput').value = '';
            
            // CSV íŒŒì¼ ë‹¤ì‹œ ë¡œë“œ (ìºì‹œ ë¬´ì‹œ)
            loadCSV();
        }

        // ì´ˆê¸°í™”
        window.onload = function() {
            loadCSV();
        };
    </script>
</body>
</html>





